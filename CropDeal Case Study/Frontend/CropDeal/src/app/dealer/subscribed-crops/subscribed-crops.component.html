<div class="container-fluid">
    
    <span data-placement="top" data-toggle="tooltip" title="Add"><button class="btn btn-primary btn-xs"
         data-title="Add" data-toggle="modal" data-target="#add">Subscribe
         <i class="fa fa-bell"></i></button></span>
    
    <h4 class="text-center text-success">Subscribed Crops List</h4>
    <div class="row">
      <div class="col-md-12">
        <div class="table-responsive">
          <div id="viewPage"></div>
          <table id="mytable" class="table table-bordred table-striped">
            <thead>
              <th class="text-center">Crop Type</th>
              <th class="text-center">Crop Name</th>
              <th class="text-center">Delete</th>
            </thead>
            <tbody>
  
              <tr *ngFor="let crop of subscribedCropsArray">
                <td class="text-center">{{crop.cropType}}</td>
                <td class="text-center">{{crop.cropName}}</td>
                <td class="text-center">  <p data-placement="top" data-toggle="tooltip" title="Delete"><button class="btn btn-danger btn-xs"
                    (click)="onDelete(crop)" data-title="Delete" data-toggle="modal" data-target="#delete">
                      <i class="fa fa-trash" aria-hidden="true"></i></button></p>
                </td>
              </tr>
  
  
            </tbody>
  
          </table>
  
          <div class="clearfix"></div>
  
        </div>
  
      </div>
    </div>
  </div>
  
  
  <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="add" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title text-left" id="Heading">Add Crop to Subscription</h4>
          <button type="button" class="close text-right" data-dismiss="modal" aria-hidden="true">
            x</button>
        </div>
        <form [formGroup]="subscribeCropForm" ngNativeValidate>
          <div class="modal-body">
            
            
              <div class="form-group">
              <label class="form-label">Crop Type</label>
              <select #opt class="selectpicker show-menu-arrow form-control" (change)="assignCropName(opt.value)" formControlName="cropType" required>
                <option value="abc" disabled selected>Select Crop Type</option>
                <option *ngFor="let crop of cropTypeArray" value="{{crop}}">{{crop}}</option>
            </select>
            <div *ngIf="subscribeFormControl.cropType.invalid && (subscribeFormControl.cropType.dirty || subscribeFormControl.cropType.touched)" class="text-danger">

              <div *ngIf="subscribeFormControl.cropType.errors.required">
                  Please select Crop Type.
              </div>
          </div>
            </div>
            <div class="form-group">
              <label class="form-label">Crop Name</label>
              <select class="selectpicker show-menu-arrow form-control" formControlName="cropName" required>
                <option value="abc" disabled selected>Select Crop Name</option>
                <option *ngFor="let cropName of cropNameArray" value="{{cropName}}">{{cropName}}</option>
            </select>
            <div *ngIf="subscribeFormControl.cropName.invalid && (subscribeFormControl.cropName.dirty || subscribeFormControl.cropName.touched)" class="text-danger">

              <div *ngIf="subscribeFormControl.cropName.errors.required">
                  Please select Crop Name.
              </div>
          </div>
            </div>
            
            
      </div>
      <div class="modal-footer ">
        <button type="submit" class="btn btn-success btn-lg" [disabled]="subscribeCropForm.invalid" (click)="onSubmit()" data-dismiss="modal" style="width: 100%;">Subscribe</button>
      </div>
      </form>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
  </div>
  
  
  
  <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="add" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
              class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
          <h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
        </div>
        <div class="modal-body">
  
          <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to
            unsubscribe to this crop?</div>
  
        </div>
        <div class="modal-footer ">
          <button type="button" class="btn btn-success" (click)="deleteRecord()" data-dismiss="modal">Yes</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Â No</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>


  <!-- Modal -->
 <div class="modal fade" id="exampleModal" tabindex="-1" [ngClass]="{'show' : showModal}" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Alert</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showModal=false">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-danger">
        <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span>
        {{alreadySubscribed}}
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="showModal=false">Close</button>
      </div>
    </div>
  </div>
</div>


